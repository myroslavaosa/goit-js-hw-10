{"version":3,"file":"1-timer.js","sources":["../src/js/storage.js","../src/js/1-timer.js"],"sourcesContent":["export const refs = {\n    input: document.querySelector('#datetime-picker'),\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n    btn: document.querySelector('button'),\n\n    options: {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        userSelectedDate: null,\n        onClose(selectedDates) {\n            refs.options.userSelectedDate = selectedDates[0]; \n\n            if (refs.options.userSelectedDate.getTime() > Date.now()) {\n                refs.btn.removeAttribute(\"disabled\");\n            } else {\n                refs.btn.setAttribute(\"disabled\", true);\n            }\n        },\n    },\n};\n\n// âœ… Function to convert milliseconds to days, hours, minutes, and seconds\nexport function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    return {\n        days: Math.floor(ms / day),\n        hours: Math.floor((ms % day) / hour),\n        minutes: Math.floor(((ms % day) % hour) / minute),\n        seconds: Math.floor((((ms % day) % hour) % minute) / second),\n    };\n}\n","import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport { refs, convertMs } from \"./storage\"; \nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nflatpickr(refs.input, refs.options);\n\nlet countdownInterval;\n\nrefs.btn.addEventListener(\"click\", () => {\n    const selectedDate = refs.options.userSelectedDate;\n\n    if (!selectedDate || selectedDate.getTime() <= Date.now()) {\n        refs.btn.setAttribute(\"disabled\", true);\n        iziToast.show({\n            title: 'Error',\n            message: 'Please choose a date in the future!',\n            position: 'topRight',\n            color: 'red',\n        });\n        return;\n    }\n\n    refs.btn.setAttribute(\"disabled\", true);\n    refs.input.setAttribute(\"disabled\", true);\n\n    countdownInterval = setInterval(() => {\n        const now = new Date().getTime();\n        const ms = selectedDate - now;\n\n        if (ms <= 0) {\n            clearInterval(countdownInterval);\n            refs.days.textContent = \"00\";\n            refs.hours.textContent = \"00\";\n            refs.minutes.textContent = \"00\";\n            refs.seconds.textContent = \"00\";\n\n            refs.input.removeAttribute(\"disabled\");\n            return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(ms);\n\n        refs.days.textContent = String(days).padStart(2, \"0\");\n        refs.hours.textContent = String(hours).padStart(2, \"0\");\n        refs.minutes.textContent = String(minutes).padStart(2, \"0\");\n        refs.seconds.textContent = String(seconds).padStart(2, \"0\");\n    }, 1000);\n});\n"],"names":["refs","selectedDates","convertMs","ms","flatpickr","countdownInterval","selectedDate","iziToast","now","days","hours","minutes","seconds"],"mappings":"+IAAO,MAAMA,EAAO,CAChB,MAAO,SAAS,cAAc,kBAAkB,EAChD,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,EAChD,IAAK,SAAS,cAAc,QAAQ,EAEpC,QAAS,CACL,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,iBAAkB,KAClB,QAAQC,EAAe,CACnBD,EAAK,QAAQ,iBAAmBC,EAAc,CAAC,EAE3CD,EAAK,QAAQ,iBAAiB,QAAO,EAAK,KAAK,MAC/CA,EAAK,IAAI,gBAAgB,UAAU,EAEnCA,EAAK,IAAI,aAAa,WAAY,EAAI,CAE7C,CACJ,CACL,EAGO,SAASE,EAAUC,EAAI,CAM1B,MAAO,CACH,KAAM,KAAK,MAAMA,EAAK,KAAG,EACzB,MAAO,KAAK,MAAOA,EAAK,MAAO,IAAI,EACnC,QAAS,KAAK,MAAQA,EAAK,MAAO,KAAQ,GAAM,EAChD,QAAS,KAAK,MAASA,EAAK,MAAO,KAAQ,IAAU,GAAM,CACnE,CACA,CCjCAC,EAAUJ,EAAK,MAAOA,EAAK,OAAO,EAElC,IAAIK,EAEJL,EAAK,IAAI,iBAAiB,QAAS,IAAM,CACrC,MAAMM,EAAeN,EAAK,QAAQ,iBAElC,GAAI,CAACM,GAAgBA,EAAa,QAAO,GAAM,KAAK,MAAO,CACvDN,EAAK,IAAI,aAAa,WAAY,EAAI,EACtCO,EAAS,KAAK,CACV,MAAO,QACP,QAAS,sCACT,SAAU,WACV,MAAO,KACnB,CAAS,EACD,MACH,CAEDP,EAAK,IAAI,aAAa,WAAY,EAAI,EACtCA,EAAK,MAAM,aAAa,WAAY,EAAI,EAExCK,EAAoB,YAAY,IAAM,CAClC,MAAMG,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBL,EAAKG,EAAeE,EAE1B,GAAIL,GAAM,EAAG,CACT,cAAcE,CAAiB,EAC/BL,EAAK,KAAK,YAAc,KACxBA,EAAK,MAAM,YAAc,KACzBA,EAAK,QAAQ,YAAc,KAC3BA,EAAK,QAAQ,YAAc,KAE3BA,EAAK,MAAM,gBAAgB,UAAU,EACrC,MACH,CAED,KAAM,CAAE,KAAAS,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYV,EAAUC,CAAE,EAEtDH,EAAK,KAAK,YAAc,OAAOS,CAAI,EAAE,SAAS,EAAG,GAAG,EACpDT,EAAK,MAAM,YAAc,OAAOU,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDV,EAAK,QAAQ,YAAc,OAAOW,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1DX,EAAK,QAAQ,YAAc,OAAOY,CAAO,EAAE,SAAS,EAAG,GAAG,CAC7D,EAAE,GAAI,CACX,CAAC"}